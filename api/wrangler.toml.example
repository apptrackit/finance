name = "finance-api"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
main = "src/index.ts"

# Enable workers.dev subdomain
workers_dev = true

# Custom domain route (optional - comment out if not using custom domain)
# routes = [
#   { pattern = "api.finance.yourdomain.com", custom_domain = true }
# ]

[define]
__dirname = "'/'"

[[d1_databases]]
binding = "DB"
database_name = "finance-db"
database_id = "YOUR-DATABASE-ID-HERE"  # Replace with your D1 database ID

[triggers]
crons = ["0 0 * * *"] # Run daily at midnight to process recurring schedules
